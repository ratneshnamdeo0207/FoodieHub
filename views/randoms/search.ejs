<% layout('layouts/boilerplate') %>

<body>

<!-- Navbar -->


<!-- Search Section -->
<div class="container mt-5">
    <div class="text-center mb-4">
        <h2>Find Restaurants in Your City</h2>
        <p class="text-muted">Search restaurants by location</p>
    </div>

    <!-- Search Box -->
    <div class="row justify-content-center">
  <div class="col-md-6">

    <form class="needs-validation" 
          action="/search" 
          method="get" 
          novalidate>

      <div class="input-group">

        <input type="text"
               class="form-control"
               name="location"
               value="<%= location || '' %>"
               placeholder="Enter city name (e.g., Delhi)"
               required>

        <button class="btn btn-primary ms-3">Search</button>

        <div class="invalid-feedback">
          Please enter a city
        </div>

      </div>

    </form>

  </div>
</div>

<!-- Example Results Section -->
<div class="container mt-5">
    <h4 class="mb-3">Search Results</h4>
    <div class="row">
        
        <!-- Card 1 -->
         <% if (!resturants.length) { %>
          <div class="container">
            <div class="alert alert-secondary
             text-center my-4 py-5">
                No resturant found in this city.
            </div>
        </div>
         <% } else{ %>
        
           <% for( let resturant of resturants) { %>
                <div class="col-md-4 mb-4">
                    <div class="card restaurant-card shadow-sm">
                        <img src="https://images.unsplash.com/photo-1555992336-03a23c9b6c9c" class="card-img-top" height="200">
                        <div class="card-body">
                            <h5 class="card-title"><%= resturant.name %></h5>
                            <p class="card-text"><%= resturant.location %> • ⭐ 4.5</p>
                            <p class="card-text">Category: <%= resturant.Category %></p>
                            <a href="/show/<%= resturant._id %>" class="btn btn-warning w-100">View Details</a>
                        </div>
                    </div>
                </div>
                <% } %>
         <% } %>
       

        <!-- Card 2 -->
        
    </div>
</div>

</body>